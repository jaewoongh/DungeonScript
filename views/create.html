<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">DungeonScript</a>
		</div>
		<div class="collapse navbar-collapse">
			<ul class="nav navbar-nav">
				<li><a href="#">Feature</a></li>
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="/documentation#basics">Basics</a></li>
						<li><a href="/documentation#grammar">Grammar</a></li>
					</ul>
				</li>
				<li class="active"><a href="/create">Create</a></li>
			</ul>
		</div>
	</div>
</div>

<div style="margin-top:50px">
	<div id="area-title" class="container" style="padding:0px; margin:0px 10px">
		<h3>Coding Page</h3>
		<p>Note that you can drag bottom-right corner of the textbox to resize it freely</p>
	</div>

	<form action="/create" method="POST">
		<div id="area-ready" class="container" style="padding:0px; margin:10px">
			<h4>READY</h4>
			<p>Set/modify some meta data for the entire game</p>
			<div class="col-md-8" style="padding:0px">
				<textarea id="txt-ready" name="ready" style="width:100%; max-width:100%; height:80px; font-family:Consolas,Andale Mono,Courier; font-size:small;" placeholder="title: 'Awesome Dungeon'">{{ ready }}</textarea>
			</div>
			<div class="col-md-4" style="padding:0px 5px; word-wrap:break-word; font-family:Consolas,Andale Mono,Courier; font-size:small;">
				{{{ c_meta }}}
			</div>
		</div>

		<div id="area-set" class="container" style="padding:0px; margin:10px">
			<h4>SET</h4>
			<p>This runs once on the start of the game, so set some things for later use</p>
			<div class="col-md-8" style="padding:0px">
				<textarea id="txt-set" name="set"  style="width:100%; max-width:100%; height:140px; font-family:Consolas,Andale Mono,Courier; font-size:small;" placeholder="{ player, hp: 40, hp-max: 50, weapon: @short-sword }">{{ set }}</textarea>
			</div>
			<div class="col-md-4" style="padding:0px 5px; word-wrap:break-word; font-family:Consolas,Andale Mono,Courier; font-size:small;">
				{{{ c_things }}}
			</div>
		</div>

		<div id="area-run" class="container" style="padding:0px; margin:10px">
			<h4>RUN</h4>
			<p>This runs every tick, making the game run</p>
			<div class="col-md-8" style="padding:0px">
				<textarea id="txt-run" name="run"  style="width:100%; max-width:100%; height:140px; font-family:Consolas,Andale Mono,Courier; font-size:small;" placeholder="player, hp<=0 { .dead, gamephase <~ { .gamephase: 'gameover' } }">{{ run }}</textarea>
			</div>
			<div class="col-md-4" style="padding:0px 5px; word-wrap:break-word; font-family:Consolas,Andale Mono,Courier; font-size:small;">
				{{{ c_gameloop }}}
			</div>
		</div>

		<div id="area-submit" class="container" style="padding:0px; margin:10px">
			<button class="btn btn-lg btn-primary btn-block" type="submit" name="interprete" value="true">Interprete!</button>
			<button class="btn btn-sm btn-warning btn-block" type="submit" name="compile" value="true">COMPILE & GO</button>
		</div>
	</form>
</div>

<script>
	window.onload = function() {
		document.getElementById('txt-ready').value = 'title: "text demo"\nauthor: "you"\ntick: 250';
		document.getElementById('txt-set').value = '{ text:"hello, world", x:0.5, y:0.5, text-align:"center" }';
		document.getElementById('txt-run').value = 'text, !show { text <~ { .show } }\ntext, show { text <~ { .show: remove } }';
	};
</script>